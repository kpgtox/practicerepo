<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>js practice 1</title>
</head>

<body>

  <div class="d1">
    <!-- Add JS code as an attribute to an html element. -->
    <!-- <button type="button" name="button" onclick="alert('hellow')">Press me.</button> -->
    <button id="b1" type="button" name="button">Press here.</button>
    <button id="b2" type="button" name="button">Hover here.</button>
    <button id="b3" type="button" name="button">Double click here.</button>
  </div>

  <div id="d1">Something to replace.</div>
  <div id="d2">change html style through js.</div>
  <div id="d3">div element 3</div>
  <br><br>
  <div class="d4">
    Enter Speed : <input type="number" id="speed"> <button type="button" id="speedchecker">Check</button>
  </div>
  <br>
  <div>
    <button type="button" name="button" id="buy">Buy</button>
    <p id="p1"></p>
  </div>
  <br><br>
  <div class="d5">
    <label>Enter Password :</label> <input type="password" id="password">
    <label>Re-Enter Password :</label> <input type="password" id="password2">
    <button type="button" id="pass_submit">Submit</button>
    <p id="error_msg"></p>
  </div>
  <div>
    Stopwatch:
    <p id="p2"></p>
    <button type="button" id="start">Start</button>
    <button type="button"id="stop">Stop</button>
    <button type="button"id="reset">Reset</button>
  </div>

  <!-- Add JS in a script tag in an html file. -->
  <script type="text/javascript">
    // on click event listener
    document.getElementById("b1").onclick = function() {
      alert("used document selector.")
    };

    // on double click event listener
    document.getElementById("b3").ondblclick = function() {
      alert("you've double clicked!damn!")
    };

    // on hover event listener
    document.getElementById("b2").onmouseover = function() {
      alert("another method")
    };

    // variables
    var arr1 = [1, 2, 3, 4];
    console.log(arr1);
    // both arrays and dictionaries are objects in js.
    window.console.log(typeof(arr1));


    // Access html element through js

    // Access content of an html element
    // innerHTML lets us modify anything thats present in an element.
    document.getElementById("d1").innerHTML = "I'm new here.";

    // Change an html element's style
    document.getElementById("d2").style.width = "600px";
    document.getElementById("d2").style.height = "100px";
    document.getElementById("d2").style.backgroundColor = "#ddd";
    document.getElementById("d2").style.fontSize = "1.2em";
    document.getElementById("d2").style.fontFamily = "monospace";

    // Funtions
    // geenrate a random color.
    function generate_random_col() {
      var x, y, z;
      x = Math.round(Math.random() * 256);
      y = Math.round(Math.random() * 256);
      z = Math.round(Math.random() * 256);
      var mycol = 'rgb(' + x + ',' + y + ',' + z + ')';
      return mycol;
    }
    console.log(generate_random_col() + "," + typeof(mycol));
    document.getElementById("d3").innerHTML = generate_random_col();
    document.getElementById("d3").style.color = generate_random_col();

    // js object/dictionary

    // Declare and define a js
    var phones = {
      make: "apple",
      model: 10,
      year: 2020,
      location: "china"
    };
    console.log("phones:");
    console.log(phones);
    console.log("phone type :" + typeof(phones));

    // Two js objects when equalized become ci-existent lol
    // changing one affects the other.
    var phones2 = phones;
    console.log("phones2");
    console.log(phones2);
    phones.model = 99;
    console.log("phones:");
    console.log(phones);
    console.log("phones2");
    console.log(phones2);

    // creating js objects in another way.
    // Declaring/Initialize an emtpy object then ater defining it i.e giving it key value pairs.
    var cars = new Object();
    cars.model = "ford";
    cars.year = 1990;
    console.log(cars);

    //Create a  js object using a constructor (best method)
    // Create a constructor then make instances of it, just like a class.
    function bikes(model, year, color, brand) {
      this.model = model;
      this.year = year;
      this.color = color;
      this.brand = brand;
    }
    // instance/object 1
    var mybike = new bikes("R15", 2009, "Black", "Yamaha");
    console.log("mybike :");
    console.log(mybike);
    // instance/object 2
    var hisbike = new bikes("Dominar", 2019, "White", "Bajaj");
    console.log("hisbike :");
    console.log(hisbike);

    // Adding a method to inside a constructor.
    function laptops(brand, warranty) {
      this.brand = brand;
      this.warranty = warranty;
      // define a new method in a constructor
      this.extend_warranty = function(x) {
        this.warranty += x;
      }
    }
    var mylaptop = new laptops("apple", 2);
    console.log("mylaptop :");
    console.log(mylaptop);
    mylaptop.extend_warranty(3);
    console.log("mylaptop :");
    console.log(mylaptop);

    //Adding new vairables to an instance/objects
    // adds variables to the object only, not tot he constructor.
    mylaptop.condition = "new";
    console.log("mylaptop :");
    console.log(mylaptop);
    mylaptop.price = 100000;
    console.log("mylaptop :");
    console.log(mylaptop);

    var hislaptop = new laptops("dell", 1, 90000);
    console.log("hislaptop :");
    console.log(hislaptop);
    //adding new variables to the constructor along with default values
    laptops.prototype.condition = "brand new";
    console.log("hislaptop");
    console.log(hislaptop);
    console.log("hislaptop.condition :")
    console.log(hislaptop.condition);
    // console.log("hislaptop.condition :");
    // console.log(hislaptop.condition);

    // Condiitons
    function check_speed(x) {
      if (x >= 100) {
        window.alert("too fast");
      } else {
        switch (true) {
          case (x >= 50) && (x < 100):
            window.alert("perfect");
            break;
          default:
            window.alert("too slow");
        }
      }
    }
    document.getElementById("speedchecker").onclick = function() {
      var speed = document.getElementById("speed").value;
      check_speed(speed);
    }

    //While loop
    // Update shopping list on site.ÃŸ

    document.getElementById("buy").onclick = function(){buy_now();}

    function buy_now() {
      var balance = 100;
      var items_bought = 0;
      document.getElementById("p1").innerHTML = "Initial Balance : " + balance + "<br>";

      while (balance > 0) {
        var item_price = Math.floor(Math.random() * 10);
        if (item_price <= balance) {
          items_bought += 1;
          balance -= item_price;
          updateSite(item_price, balance);
          console.log("item price : $" + item_price + " balance : $" + balance);
        }
        else {break;}
      }
      console.log("total items bought : " + items_bought);
      document.getElementById("p1").innerHTML += "total items bought : " + items_bought;
    }
    function updateSite(price, bal) {
      var msg = "item price : $" + price + " | " + "balance : $" + bal;
      document.getElementById("p1").innerHTML += msg + "<br>";
    }

    //Regular Expressions
    // RegEx used to find patterns.

    // Look for letter a in the str string.
    var str = "Atlanta";
    //patterns always start and end with a forward slash.
    //the i (modifier) used to consider both upper and lower case letters.
    var pattern = /a/i;
    // output is the index of the first encounter of the letter a either lower or upper case.
    console.log(str.search(pattern));
    //Output is the letter that is matched.
    console.log(str.match(pattern));
    // Return a bool, true if the pattern exists in the string.
    console.log(pattern.test(str));

    // here, we're looking for exact match, using the g modifier.
    var pattern2 = /a/g;
    console.log(str.search(pattern2));
    console.log(str.match(pattern2));
    console.log(pattern2.test(str));

    // looffor multiple letters in a string.
    var pattern3 = /[atn]/g;
    console.log(pattern3.test(str));
    console.log(str.search(pattern3));
    console.log(str.match(pattern3));

    // check if any digits are present in a string.
    var str2 = "ON787878";
    var pattern4 = /\d/g;
    console.log(pattern4.test(str2));
    console.log(str2.search(pattern4)); //index of the first digit in the string
    console.log(str2.match(pattern4)); //outputs all exact matches.

    // check if there is an alpha numeric.
    var str3 = "ON787878$%%#@@@";
    var pattern5 = /\w/g;
    console.log(pattern5.test(str3));
    console.log(str3.search(pattern5)); //index of the first digit in the string
    console.log(str3.match(pattern5)); //outputs all exact matches.

    // other patterns
    //  \s for space
    //  /\w/g (uppercase) for non-alpha numeric.
    // \d{4} four digits
    // \d{10} ten digits
    // ^A capital A as first character
    // \n line breaks

    // Error Testing in js.
    // Try and Catch statements.

    try{
      // sum(5,5);
    }
    catch(err){
      console.log(err.message);
    }

    //Password Verification :

    var pass_submit = document.getElementById("pass_submit"); //grab submit button
    pass_submit.onclick = function(){pass_check();}

    function pass_check(){
      var password = document.getElementById("password").value; //grab password input
      var password2 = document.getElementById("password2").value;
      var error_msg = document.getElementById("error_msg"); //grab p element to print error message;
      var error=""; //empty string
      error_msg.innerHTML = ""; //nullify p element's content every time submit is hit
      var pass_pattern = /[A-Z]/g; //uppercase
      var pass_pattern2 = /\d/g; //numbers
      var pass_pattern3 = /\W/g; //special characters

      try {
        if(password.length<6){error="password too short.";}
        if(!pass_pattern.test(password)){error += "<br>password must have atleast 1 upper case";}
        if(!pass_pattern2.test(password)){error += "<br>password must have atleast 1 number";}
        if(!pass_pattern3.test(password)){error += "<br>password must have atleast 1 special character";}
        if(!(password===password2)){error += "<br>passwords do not match";}
        throw error; //throw the error message, or empty error message if no conditions are met above.
      } catch (e) { //error stored in e
        error_msg.innerHTML = e;
        error_msg.style.color = "red";
      }
    }

    //Stop watch :

    var p2 = document.getElementById("p2");
    var start = document.getElementById("start");
    var stop = document.getElementById("stop");
    var reset = document.getElementById("reset");
    var x =0;
    p2.innerHTML = "0";
    start.onclick = function(){start_stopwatch()}
    reset.onclick = function(){reset_stopwatch()}

    function start_stopwatch(){
      // js method setInterval used to run code for every specific amount of time.
      var my_counter = setInterval(function(){stopwatch()},1000); //arguments - a function, 1000 milliseconds.
      function stopwatch(){
        x++;
        p2.innerHTML = x;
      }
      stop.onclick = function(){clearInterval(my_counter)};
    }
    function reset_stopwatch(){
      x = 0;
      p2.innerHTML = "0";
    }









  </script>



</body>

</html>
